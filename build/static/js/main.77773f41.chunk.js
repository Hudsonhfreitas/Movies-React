(this.webpackJsonpfilmaria=this.webpackJsonpfilmaria||[]).push([[0],{60:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),r=c(14),a=c.n(r),i=c(8),o=c(2),l=c(1);function j(){return Object(l.jsx)("header",{children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(i.b,{className:"logo",to:"/",children:"MOVIES"}),Object(l.jsx)(i.b,{className:"favoritos",to:"/favoritos",children:"Salvos"})]})})}var b=c(12),u=c.n(b),d=c(15),h=c(9),O=c(30),f=c.n(O).a.create({baseURL:"https://sujeitoprogramador.com"});function m(){var e=Object(s.useState)([]),t=Object(h.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("r-api/?api=filmes");case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(l.jsx)("div",{className:"todos-filmes",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"lista-filmes",children:c.map((function(e){return Object(l.jsxs)("article",{children:[Object(l.jsx)("strong",{children:e.nome}),Object(l.jsx)("img",{src:e.foto,alt:e.nome}),Object(l.jsx)(i.b,{to:"/filme/".concat(e.id),children:"Acessar"})]},e.id)}))})})})}var x=c(10);function p(){var e=Object(o.g)().id,t=Object(o.f)(),c=Object(s.useState)([]),n=Object(h.a)(c,2),r=n[0],a=n[1],i=Object(s.useState)(!0),j=Object(h.a)(i,2),b=j[0],O=j[1];return Object(s.useEffect)((function(){function c(){return(c=Object(d.a)(u.a.mark((function c(){var s;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,f.get("r-api/?api=filmes/".concat(e));case 2:if(0!==(s=c.sent).data.length){c.next=6;break}return t.replace("/"),c.abrupt("return");case 6:a(s.data),O(!1);case 8:case"end":return c.stop()}}),c)})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()}),[t,e]),b?Object(l.jsx)("div",{className:"filme-info",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("h1",{children:"Carregando Filme..."})})}):Object(l.jsx)("div",{className:"filme-info",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{children:r.nome}),Object(l.jsx)("img",{src:r.foto,alt:r.nome}),Object(l.jsx)("h3",{children:"Sin\xf3pse"}),Object(l.jsx)("p",{children:r.sinopse}),Object(l.jsxs)("div",{className:"botoes",children:[Object(l.jsx)("button",{onClick:function(){var e=localStorage.getItem("filmes"),t=JSON.parse(e)||[];t.some((function(e){return e.id===r.id}))?x.b.error("Voc\xea ja possui esse filme salvo"):(t.push(r),localStorage.setItem("filmes",JSON.stringify(t)),x.b.success("Filme salvo com sucesso!"))},children:"Salvar"}),Object(l.jsx)("button",{children:Object(l.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://youtube.com/results?search_query=".concat(r.nome," trailer"),children:"Trailer"})})]})]})})}function v(){var e=Object(s.useState)([]),t=Object(h.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){var e=localStorage.getItem("filmes");n(JSON.parse(e)||[])}),[]),Object(l.jsx)("div",{className:"meus-filmes",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{children:"Meus filmes"}),0===c.length&&Object(l.jsx)("span",{children:"Voc\xea n\xe3o possui nenhum filme salvo :("}),Object(l.jsx)("ul",{children:c.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)("h3",{children:e.nome}),Object(l.jsxs)("span",{children:[Object(l.jsx)(i.b,{to:"/filme/".concat(e.id),children:"Ver detalhes"}),Object(l.jsx)("button",{onClick:function(){return function(e){var t=c.filter((function(t){return t.id!==e}));n(t),localStorage.setItem("filmes",JSON.stringify(t)),x.b.success("Filme exclu\xeddo com sucesso!")}(e.id)},children:"Excluir"})]})]},e.id)}))})]})})}function g(){return Object(l.jsx)("div",{class:"erro",children:Object(l.jsxs)("div",{class:"container",children:[Object(l.jsx)("h1",{children:"Erro 404 :("}),Object(l.jsx)("h2",{children:"Parece que esta p\xe1gina n\xe3o existe..."})]})})}var N=function(){return Object(l.jsxs)(i.a,{children:[Object(l.jsx)(j,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",component:m}),Object(l.jsx)(o.a,{exact:!0,path:"/filme/:id",component:p}),Object(l.jsx)(o.a,{exact:!0,path:"/favoritos",component:v}),Object(l.jsx)(o.a,{path:"*",component:g})]})]})};c(60),c(61);function S(){return Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(N,{}),Object(l.jsx)(x.a,{autoClose:2e3})]})}a.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.77773f41.chunk.js.map